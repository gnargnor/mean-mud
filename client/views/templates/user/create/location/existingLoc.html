<div ng-include="'views/partials/usernav.html'"></div>
<h1 class="lead alert alert-danger" role="alert" ng-if="location.messageObject.message != ''">{{location.messageObject.message}}</h1>
<div class="container viewbg">
  <div class="viewfg">
  <!-- display all current room properties -->
  <div class="row">
    <h2 class="titleh2" ng-click="location.returnToWorldHome()">{{location.locationsObject.curLoc.locName}}</h2>
    <p ng-show="location.locationsObject.curLoc.locDesc" class="titlep">{{location.locationsObject.curLoc.locDesc}}</p>
  </div>

  <!-- SIGHTS -->
  <div class="row" id="sights">
    <div class="col col-lg-4 col-md-4 col-sm-12 leftSide" id="sightNames">
      <!-- Displays Location Sights from sightsObject.curSights -->
      <h4>Sights (click to edit): </h4>
      <div ng-repeat="sight in location.sightsObject.curSights">
        <!-- Click to focus -->
        <p ng-click="location.displayDesc(sight); location.displayViewForSight()">{{sight.sightName}} <span class="glyphicon glyphicon-minus" ng-click="location.sightDeleter(sight._id)"></span></p>
      </div>
      <span class="glyphicon glyphicon-plus" ng-click="location.newSight()"></span>
    </div>
    <!-- End Exit Repeat-->

    <div class="col col-lg-8 col-md-8 col-sm-12">
      <!-- Displays Focused Sight -->
      <div class="col col-lg-8 col-md-8 col-sm-12 leftSide" id="sightDetail" ng-show="location.displayDescViewSight">
        <h3>{{location.sightsObject.curSight.sightName}}</h3>
        <p>{{location.sightsObject.curSight.sightDesc}}</p>
        <span class="glyphicon glyphicon-pencil" ng-click="location.editSight()" ng-show="location.sightsObject.curSight._id">
      </div><!-- End Display Focused Sight -->

      <div class="leftSide" ng-show="location.editSightView"><!-- Displays focused sight for editing -->
      <h4>Edit Sight:</h4>
      <form class="form-horizontal" ng-submit="location.sightUpdater(location.sightsObject.curSight); location.displayViewForSight()">
        <div class="form-group">
          <label for="sightName" class="col-sm-2 control-label">Keyword:</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="sightName" placeholder="{{location.sightsObject.curSight.sightName}}" ng-model="location.sightsObject.curSight.sightName">
          </div>
        </div>
        <div class="form-group">
          <label for="response" class="col-sm-2 control-label">Look response:</label>
          <div class="col-sm-10">
            <input type="textarea" class="form-control" id="response" placeholder="{{location.sightsObject.curSight.sightDesc}}" ng-model="location.sightsObject.curSight.sightDesc">
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
              <label>
                <input type="checkbox" ng-model="location.sightsObject.curSight.isImportant"> Check if this sight is important to the story (not seen by players)
              </label>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-default">Update</button>
          </div>
        </div>
      </form>
    </div><!-- End edit Sight -->

  <div class="leftSide" ng-show="location.addSightView"><!-- Displays form for adding sight -->
    <h4>Add Sight:</h4><hr>
    <form class="form-horizontal" ng-submit="location.sightCreator(location.sightsObject.curSight); location.displayViewForSight()">
      <div class="form-group">
        <label for="sightName" class="col-sm-2 control-label">Keyword:</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" id="sightName" placeholder="sightName" ng-model="location.sightsObject.curSight.sightName">
        </div>
      </div>
      <div class="form-group">
        <label for="sightDesc" class="col-sm-2 control-label">Look response:</label>
          <div class="col-sm-10">
            <input type="textarea" class="form-control" id="sightDesc" placeholder="response" ng-model="location.sightsObject.curSight.sightDesc">
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
              <label>
                <input type="checkbox" ng-model="location.sightsObject.curSight.isImportant"> Check if this sight is important to the story (not seen by players)
              </label>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-default">Add</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div><!-- End Add Sight -->
  <!-- END SIGHTS -->
  <hr>

  <!-- EXITS -->
  <div class="row">
    <div class="col col-lg-4 col-md-4 col-sm-12 leftSide"><!-- Displays Exits from ExitsObject.curExits -->
      <h4>Exits (click to edit): </h4><hr>
      <div ng-repeat="exit in location.exitsObject.curExits"><!-- Click to Focus -->
        <p ng-click="location.displayDesc(exit); location.displayViewForExit()">{{exit.exitDir}} <span class="glyphicon glyphicon-minus" ng-click="location.exitDeleter(exit._id)"></span></p>
      </div>
      <span class="glyphicon glyphicon-plus" ng-click="location.newExit()"></span>
    </div>
    <!-- End Exit Repeat -->

    <div class="col col-lg-8 col-md-8 col-sm-12">
      <!-- Displays Description of Focused Exit-->
      <div class="col col-lg-8 col-md-8 col-sm-12 leftSide" id="exitDetail" ng-show="location.displayDescViewExit">
        <h3>{{location.exitsObject.curExit.exitDir}}</h3>
        <p>{{location.exitsObject.curExit.exitDesc}}</p>
        <span class="glyphicon glyphicon-pencil" ng-click="location.editExit()" ng-show="location.exitsObject.curExit._id">
      </div><!-- End Display Focused Exit -->

      <div class="leftSide" ng-show="location.editExitView"><!-- Displays Focused Exit for Editing -->
      <h4>Edit Exit:</h4><hr>
      <form class="form-horizontal" id="editExit" ng-submit="location.exitUpdater(location.exitsObject.curExit); location.displayViewForExit()">

        <div class="form-group">
          <label for="exitDir" class="col-sm-2 control-label"> Select exit direction: </label><br>
          <div class="col-sm-10">
            <select name="exitDirSelect" id="exitDirSelect" ng-model="location.exitsObject.curExit.exitDir">
              <option value="{{location.exitsObject.curExit.exitDir}}">Current ({{location.exitsObject.curExit.exitDir}})</option>
              <option value="north">North</option>
              <option value="east">East</option>
              <option value="south">South</option>
              <option value="west">West</option>
            </select><br>
          </div>
        </div>

        <div class="form-group">
          <label for="exitDest" class="col-sm-2 control-label"> Select exit destination: </label><br>
          <div class="col-sm-10">
            <select name="exitDestSelect" id="exitDestSelect" ng-model="location.exitsObject.curExit._destLoc" ng-options="loc.locName for loc in location.locationsObject.curLocs">

            </select><br>
          </div>
        </div>

        <div class="form-group">
          <label for="exitDesc" class="col-sm-2 control-label">Exit Description:</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="exitDesc" form="editExit" cols="60" rows="2" placeholder="{{location.exitsObject.curExit.exitDesc}}" ng-model="location.exitsObject.curExit.exitDesc"></textarea>
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
              <label>
                <input type="checkbox" ng-model="location.exitsObject.curExit.open"> Leave checked if this exit is open
              </label>
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
              <label>
                <input type="checkbox" ng-model="location.exitsObject.curExit.unlocked"> Leave checked if this exit is unlocked
              </label>
            </div>
          </div>
        </div>



        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-default">Update</button>
          </div>
        </div>
      </form>
    </div><!-- End Edit Exit -->

    <div class="leftSide" ng-show="location.addExitView"><!-- Displays Form for Adding Exit -->
      <h4>Add Exit:</h4><hr>
      <form class="form-horizontal" ng-submit="location.exitCreator(location.exitsObject.curExit); location.displayViewForExit()">

        <div class="form-group">
          <label for="exitDir" class="col-sm-2 control-label"> Select exit direction:: </label><br>
          <div class="col-sm-10">
            <select name="exitDirSelect" id="exitDirSelect" ng-model="location.exitsObject.curExit.exitDir">
              <option value="">---Please select---</option> <!-- not selected / blank option -->
              <option value="north">North</option>
              <option value="east">East</option>
              <option value="south">South</option>
              <option value="west">West</option>
            </select><br>
          </div>
        </div>

        <div class="form-group">
          <label for="_destLoc" class="col-sm-2 control-label"> Select exit destination: </label><br>
          <div class="col-sm-10">
            <select name="destLocSelect" id="destLocSelect" ng-model="location.exitsObject.curExit._destLoc" ng-options="loc._id as loc.locName for loc in location.locationsObject.curLocs">
              <option value="">---Please select---</option> <!-- not selected / blank option -->
            </select><br>
          </div>
        </div>


        <div class="form-group">
          <label for="exitDesc" class="col-sm-2 control-label">Exit Description:</label>
          <div class="col-sm-10">
            <input type="textarea" class="form-control" id="exitDesc" placeholder="description" ng-model="location.exitsObject.curExit.exitDesc">
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
              <label>
                <input type="checkbox" ng-model="location.exitsObject.curExit.open"> Leave checked if this exit is open
              </label>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <div class="checkbox">
              <label>
                <input type="checkbox" ng-model="location.exitsObject.curExit.unlocked"> Leave checked if this exit is unlocked
              </label>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-default">Add</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
</div>
<!-- populate a list of current location objects -->
<!-- populate a list of current location characters -->
<!-- populate a list of current location eventListeners -->
</div>
